{"ast":null,"code":"import axios from'axios';import'./Login.css';import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import logo from'./logo.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserHistory=()=>{const[data,setData]=useState([]);const[email,setEmail]=useState('');const navigate=useNavigate();useEffect(()=>{const userEmail=localStorage.getItem('userEmail');if(userEmail){setEmail(userEmail);}},[]);useEffect(()=>{if(email){fetchData();}},[email]);const fetchData=async()=>{try{const response=await axios.get(\"http://localhost:3001/userHistory?Email=\".concat(email));setData(response.data);}catch(error){console.error(\"Error\",error);}};const handleClick=()=>{navigate('/');localStorage.removeItem('userEmail');};if(!email){return/*#__PURE__*/_jsxs(\"div\",{style:{color:'#fff',textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Please log in to view user history.\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{style:{marginLeft:'100px'},to:\"/login\",children:\"Login\"})})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",style:{height:'2em',marginLeft:'-60px'}}),/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:'-50px'},children:\" GlucoWise\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navigation\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/userHistory\",children:\"User History\"}),/*#__PURE__*/_jsx(Link,{to:\"/feedback\",children:\"Feedback\"}),/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"About\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"loginbtn\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"historyTitle\",children:\"User History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-history-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"user-history-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date of Test\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Diabetes in Heredity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Duration of Physical Activity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Frequency of Fast Food\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Glucose level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Blood Pressure level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BMI\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Prediction\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.TestDate}),/*#__PURE__*/_jsx(\"td\",{children:item.Heredity===1?'Yes':'No'}),/*#__PURE__*/_jsxs(\"td\",{children:[item.PhysicalActivity,\" minutes\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.FastFood,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.Glucose,\" mg/dL\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.BloodPressure,\" mmHg\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.BMI,\" kg/m2\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.Age,\" years\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.Outcome,\" %\"]})]},index))})]})})]});};export default UserHistory;","map":{"version":3,"names":["axios","React","useState","useEffect","Link","useNavigate","logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserHistory","data","setData","email","setEmail","navigate","userEmail","localStorage","getItem","fetchData","response","get","concat","error","console","handleClick","removeItem","style","color","textDecoration","children","marginLeft","to","className","src","alt","height","marginTop","onClick","map","item","index","TestDate","Heredity","PhysicalActivity","FastFood","Glucose","BloodPressure","BMI","Age","Outcome"],"sources":["D:/project/diabetesPrediction/frontend/src/UserHistory.js"],"sourcesContent":["import axios from 'axios';\r\nimport './Login.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport logo from './logo.png'\r\n\r\nconst UserHistory = () => {\r\n  const [data, setData] = useState([]);\r\n  const [email, setEmail] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const userEmail = localStorage.getItem('userEmail');\r\n    if (userEmail) {\r\n      setEmail(userEmail);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (email) {\r\n      fetchData();\r\n    }\r\n  }, [email]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:3001/userHistory?Email=${email}`);\r\n      setData(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error\", error);\r\n    }\r\n  };\r\n\r\n  const handleClick = () => {\r\n    navigate('/');\r\n    localStorage.removeItem('userEmail');\r\n  };\r\n\r\n  \r\n  if (!email) {\r\n    return (\r\n      <div style={{color:'#fff', textDecoration:'none'}}>\r\n        <p>Please log in to view user history.</p>\r\n        <p><Link style={{marginLeft:'100px'}} to=\"/login\">Login</Link></p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header>\r\n        <Link to=\"/\" className=\"logo\"><img src={logo} alt='Logo' style={{height:'2em',marginLeft:'-60px'}}/><h2 style={{marginTop:'-50px'}}> GlucoWise</h2></Link>\r\n        <nav className=\"navigation\">\r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/userHistory\">User History</Link>\r\n          <Link to=\"/feedback\">Feedback</Link>\r\n          <Link to=\"#\">About</Link>\r\n          <button onClick={handleClick} className=\"loginbtn\">Logout</button>\r\n        </nav>\r\n      </header>\r\n      <div className='historyTitle'>User History</div>\r\n      <div className=\"user-history-container\">\r\n        <table className=\"user-history-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Date of Test</th>\r\n              <th>Diabetes in Heredity</th>\r\n              <th>Duration of Physical Activity</th>\r\n              <th>Frequency of Fast Food</th>\r\n              <th>Glucose level</th>\r\n              <th>Blood Pressure level</th>\r\n              <th>BMI</th>\r\n              <th>Age</th>\r\n              <th>Prediction</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((item, index) => (\r\n              <tr key={index}>\r\n                <td>{item.TestDate}</td>\r\n                <td>{item.Heredity === 1 ? 'Yes' : 'No'}</td>\r\n                <td>{item.PhysicalActivity} minutes</td>\r\n                <td>{item.FastFood} </td>\r\n                <td>{item.Glucose} mg/dL</td>\r\n                <td>{item.BloodPressure} mmHg</td>\r\n                <td>{item.BMI} kg/m2</td>\r\n                <td>{item.Age} years</td>\r\n                <td>{item.Outcome} %</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}