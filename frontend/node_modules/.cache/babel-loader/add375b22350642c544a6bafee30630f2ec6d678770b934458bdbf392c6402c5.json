{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./Feedback.css\";import axios from\"axios\";import logo from'./logo.png';import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Feedback(){const[feedback,setFeedback]=useState(\"\");const[feedbackName,setFeedbackName]=useState(\"\");const[feedbacks,setFeedbacks]=useState([]);const navigate=useNavigate();const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{const userEmail=localStorage.getItem('userEmail');setIsLoggedIn(!!userEmail);// Set isLoggedIn to true if userEmail exists\nfetchFeedbacks();},[]);const fetchFeedbacks=()=>{axios.get('http://localhost:3001/doctorFeedback').then(response=>{setFeedbacks(response.data);}).catch(error=>{console.error('Error fetching feedbacks:',error);});};const handleSubmit=event=>{event.preventDefault();console.log(\"Feedback submitted:\",feedback);axios.post('http://localhost:3001/doctorFeedback',{feedback:feedback,name:feedbackName}).then(()=>{console.log(\"Data submitted\");// Fetch updated feedbacks after successful submission\nfetchFeedbacks();}).catch(e=>console.log(e));setFeedback(\"\");setFeedbackName(\"\");};const handleChange=event=>{setFeedback(event.target.value);};const handleClick=()=>{localStorage.removeItem('userEmail');navigate('/');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",style:{height:'2em',marginLeft:'-60px'}}),/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:'-50px'},children:\" GlucoWise\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navigation\",children:[/*#__PURE__*/_jsx(Link,{to:\"/doctorDashboard\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/doctorFeedback\",children:\"Feedback\"}),/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"About\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",onClick:handleClick,children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'-73px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"feedback-title\",children:\"Feedback\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"feedbackName\",className:\"feedback-label\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"textarea\",{style:{marginBottom:'5px'},className:\"form-control feedback-textarea\",id:\"feedbackName\",rows:\"1\",value:feedbackName,onChange:event=>setFeedbackName(event.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"feedbackTextarea\",className:\"feedback-label\",children:\"Your Feedback\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control feedback-textarea\",id:\"feedbackTextarea\",rows:\"5\",value:feedback,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary feedback-submit-btn\",children:\"Submit Feedback\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-display-container\",children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"feedback-title\",children:\"Feedback from Doctors\"})}),feedbacks.map((feedbackItem,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"feedback\",children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'larger'},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-user-circle\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[\" \",feedbackItem.Name,/*#__PURE__*/_jsx(\"br\",{})]})]}),\" \",feedbackItem.Feedback,/*#__PURE__*/_jsx(\"br\",{})]},index)}))]})]})]});}export default Feedback;","map":{"version":3,"names":["React","useState","useEffect","axios","logo","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Feedback","feedback","setFeedback","feedbackName","setFeedbackName","feedbacks","setFeedbacks","navigate","isLoggedIn","setIsLoggedIn","userEmail","localStorage","getItem","fetchFeedbacks","get","then","response","data","catch","error","console","handleSubmit","event","preventDefault","log","post","name","e","handleChange","target","value","handleClick","removeItem","children","to","className","src","alt","style","height","marginLeft","marginTop","onClick","onSubmit","htmlFor","marginBottom","id","rows","onChange","required","type","map","feedbackItem","index","fontSize","class","Name"],"sources":["D:/project/diabetesPrediction/frontend/src/DoctorFeedback.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Feedback.css\";\r\nimport axios from \"axios\";\r\nimport logo from './logo.png'\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Feedback() {\r\n  const [feedback, setFeedback] = useState(\"\");\r\n  const [feedbackName, setFeedbackName] = useState(\"\");\r\n  const [feedbacks, setFeedbacks] = useState([]);\r\n  const navigate = useNavigate();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const userEmail = localStorage.getItem('userEmail');\r\n    setIsLoggedIn(!!userEmail); // Set isLoggedIn to true if userEmail exists\r\n    fetchFeedbacks();\r\n  }, []);\r\n\r\n  const fetchFeedbacks = () => {\r\n    axios.get('http://localhost:3001/doctorFeedback')\r\n      .then(response => {\r\n        setFeedbacks(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching feedbacks:', error);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Feedback submitted:\", feedback);\r\n    axios.post('http://localhost:3001/doctorFeedback',{feedback:feedback,name:feedbackName})\r\n      .then(() => {\r\n        console.log(\"Data submitted\");\r\n        // Fetch updated feedbacks after successful submission\r\n        fetchFeedbacks();\r\n      })\r\n      .catch(e=>console.log(e))\r\n    setFeedback(\"\");\r\n    setFeedbackName(\"\");\r\n  };\r\n  \r\n\r\n  const handleChange = (event) => {\r\n    setFeedback(event.target.value);\r\n  };\r\n\r\n  const handleClick=()=>{\r\n    localStorage.removeItem('userEmail')\r\n    navigate('/')\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <header>\r\n      <Link to=\"/\" className=\"logo\"><img src={logo} alt='Logo' style={{height:'2em',marginLeft:'-60px'}}/><h2 style={{marginTop:'-50px'}}> GlucoWise</h2></Link>\r\n        <nav className=\"navigation\">\r\n          <Link to=\"/doctorDashboard\">Home</Link>\r\n          <Link to=\"/doctorFeedback\">Feedback</Link>\r\n          <Link to=\"#\">About</Link>\r\n          <button className=\"loginbtn\" onClick={handleClick}>Logout</button>\r\n        </nav>\r\n      </header>\r\n      <div style={{marginLeft:'-73px'}}>\r\n    <div className=\"feedback-container\" >\r\n      <h1 className=\"feedback-title\">Feedback</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n        <label htmlFor=\"feedbackName\" className=\"feedback-label\">Your Name</label>\r\n        <textarea\r\n        style={{marginBottom:'5px'}}\r\n            className=\"form-control feedback-textarea\"\r\n            id=\"feedbackName\"\r\n            rows=\"1\"\r\n            value={feedbackName}\r\n            onChange={(event)=>setFeedbackName(event.target.value)}\r\n            required\r\n          ></textarea>\r\n          <label htmlFor=\"feedbackTextarea\" className=\"feedback-label\">Your Feedback</label>\r\n          <textarea\r\n            className=\"form-control feedback-textarea\"\r\n            id=\"feedbackTextarea\"\r\n            rows=\"5\"\r\n            value={feedback}\r\n            onChange={handleChange}\r\n            required\r\n          ></textarea>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary feedback-submit-btn\">\r\n          Submit Feedback\r\n        </button>\r\n      </form>\r\n    </div>\r\n    <div className=\"feedback-display-container\">\r\n         <center><h1 className=\"feedback-title\">Feedback from Doctors</h1></center>\r\n        \r\n        {feedbacks.map((feedbackItem, index) => (\r\n          <div className=\"feedback\">\r\n          <React.Fragment key={index}>\r\n           <div style={{fontSize:'larger'}}><i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i><strong> {feedbackItem.Name}<br/></strong></div> {feedbackItem.Feedback}\r\n            <br />\r\n          </React.Fragment>\r\n          </div>\r\n        ))}\r\n        \r\n      </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Feedback;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CACvB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErD,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACiB,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAAmB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACnDH,aAAa,CAAC,CAAC,CAACC,SAAS,CAAC,CAAE;AAC5BG,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,cAAc,CAAGA,CAAA,GAAM,CAC3BvB,KAAK,CAACwB,GAAG,CAAC,sCAAsC,CAAC,CAC9CC,IAAI,CAACC,QAAQ,EAAI,CAChBV,YAAY,CAACU,QAAQ,CAACC,IAAI,CAAC,CAC7B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAE,YAAY,CAAIC,KAAK,EAAK,CAC9BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBH,OAAO,CAACI,GAAG,CAAC,qBAAqB,CAAEvB,QAAQ,CAAC,CAC5CX,KAAK,CAACmC,IAAI,CAAC,sCAAsC,CAAC,CAACxB,QAAQ,CAACA,QAAQ,CAACyB,IAAI,CAACvB,YAAY,CAAC,CAAC,CACrFY,IAAI,CAAC,IAAM,CACVK,OAAO,CAACI,GAAG,CAAC,gBAAgB,CAAC,CAC7B;AACAX,cAAc,CAAC,CAAC,CAClB,CAAC,CAAC,CACDK,KAAK,CAACS,CAAC,EAAEP,OAAO,CAACI,GAAG,CAACG,CAAC,CAAC,CAAC,CAC3BzB,WAAW,CAAC,EAAE,CAAC,CACfE,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,CAGD,KAAM,CAAAwB,YAAY,CAAIN,KAAK,EAAK,CAC9BpB,WAAW,CAACoB,KAAK,CAACO,MAAM,CAACC,KAAK,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,WAAW,CAACA,CAAA,GAAI,CACpBpB,YAAY,CAACqB,UAAU,CAAC,WAAW,CAAC,CACpCzB,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,mBACEV,KAAA,CAAAE,SAAA,EAAAkC,QAAA,eACApC,KAAA,WAAAoC,QAAA,eACEpC,KAAA,CAACL,IAAI,EAAC0C,EAAE,CAAC,GAAG,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,eAACtC,IAAA,QAAKyC,GAAG,CAAE7C,IAAK,CAAC8C,GAAG,CAAC,MAAM,CAACC,KAAK,CAAE,CAACC,MAAM,CAAC,KAAK,CAACC,UAAU,CAAC,OAAO,CAAE,CAAC,CAAC,cAAA7C,IAAA,OAAI2C,KAAK,CAAE,CAACG,SAAS,CAAC,OAAO,CAAE,CAAAR,QAAA,CAAC,YAAU,CAAI,CAAC,EAAM,CAAC,cACxJpC,KAAA,QAAKsC,SAAS,CAAC,YAAY,CAAAF,QAAA,eACzBtC,IAAA,CAACH,IAAI,EAAC0C,EAAE,CAAC,kBAAkB,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cACvCtC,IAAA,CAACH,IAAI,EAAC0C,EAAE,CAAC,iBAAiB,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,cAC1CtC,IAAA,CAACH,IAAI,EAAC0C,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cACzBtC,IAAA,WAAQwC,SAAS,CAAC,UAAU,CAACO,OAAO,CAAEX,WAAY,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC/D,CAAC,EACA,CAAC,cACTpC,KAAA,QAAKyC,KAAK,CAAE,CAACE,UAAU,CAAC,OAAO,CAAE,CAAAP,QAAA,eACnCpC,KAAA,QAAKsC,SAAS,CAAC,oBAAoB,CAAAF,QAAA,eACjCtC,IAAA,OAAIwC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC5CpC,KAAA,SAAM8C,QAAQ,CAAEtB,YAAa,CAAAY,QAAA,eAC3BpC,KAAA,QAAKsC,SAAS,CAAC,YAAY,CAAAF,QAAA,eAC3BtC,IAAA,UAAOiD,OAAO,CAAC,cAAc,CAACT,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cAC1EtC,IAAA,aACA2C,KAAK,CAAE,CAACO,YAAY,CAAC,KAAK,CAAE,CACxBV,SAAS,CAAC,gCAAgC,CAC1CW,EAAE,CAAC,cAAc,CACjBC,IAAI,CAAC,GAAG,CACRjB,KAAK,CAAE3B,YAAa,CACpB6C,QAAQ,CAAG1B,KAAK,EAAGlB,eAAe,CAACkB,KAAK,CAACO,MAAM,CAACC,KAAK,CAAE,CACvDmB,QAAQ,MACC,CAAC,cACZtD,IAAA,UAAOiD,OAAO,CAAC,kBAAkB,CAACT,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,eAAa,CAAO,CAAC,cAClFtC,IAAA,aACEwC,SAAS,CAAC,gCAAgC,CAC1CW,EAAE,CAAC,kBAAkB,CACrBC,IAAI,CAAC,GAAG,CACRjB,KAAK,CAAE7B,QAAS,CAChB+C,QAAQ,CAAEpB,YAAa,CACvBqB,QAAQ,MACC,CAAC,EACT,CAAC,cACNtD,IAAA,WAAQuD,IAAI,CAAC,QAAQ,CAACf,SAAS,CAAC,qCAAqC,CAAAF,QAAA,CAAC,iBAEtE,CAAQ,CAAC,EACL,CAAC,EACJ,CAAC,cACNpC,KAAA,QAAKsC,SAAS,CAAC,4BAA4B,CAAAF,QAAA,eACtCtC,IAAA,WAAAsC,QAAA,cAAQtC,IAAA,OAAIwC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,uBAAqB,CAAI,CAAC,CAAQ,CAAC,CAE1E5B,SAAS,CAAC8C,GAAG,CAAC,CAACC,YAAY,CAAEC,KAAK,gBACjC1D,IAAA,QAAKwC,SAAS,CAAC,UAAU,CAAAF,QAAA,cACzBpC,KAAA,CAACV,KAAK,CAACW,QAAQ,EAAAmC,QAAA,eACdpC,KAAA,QAAKyC,KAAK,CAAE,CAACgB,QAAQ,CAAC,QAAQ,CAAE,CAAArB,QAAA,eAACtC,IAAA,MAAG4D,KAAK,CAAC,mBAAmB,CAAC,cAAY,MAAM,CAAI,CAAC,cAAA1D,KAAA,WAAAoC,QAAA,EAAQ,GAAC,CAACmB,YAAY,CAACI,IAAI,cAAC7D,IAAA,QAAI,CAAC,EAAQ,CAAC,EAAK,CAAC,IAAC,CAACyD,YAAY,CAACpD,QAAQ,cAC3JL,IAAA,QAAK,CAAC,GAFa0D,KAGL,CAAC,CACZ,CACN,CAAC,EAEC,CAAC,EACD,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAArD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}